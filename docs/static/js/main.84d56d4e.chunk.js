(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,a,t){e.exports=t(84)},40:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var s=t(0),l=t.n(s),o=t(12),n=t.n(o),c=t(4),i=t(5),r=t(7),m=t(6),_=t(8),b=(t(40),t(33)),d=t(15),h=t(34),u=t.n(h),k=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(r.a)(this,Object(m.a)(a).call(this))).handleSelect=function(a,t){var s="Read"===a.target.value?"read":"toRead";e.setState({bookshelf:s}),e.props.setShelf(s,t)},e.handleRead=function(a){e.setState({disabledRead:!0})},e.handleToRead=function(a){e.setState({disabledToRead:!0})},e.state={bookshelf:"",disabledRead:null,disabledToRead:null},e}return Object(_.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state.disabledRead),console.log(this.state.disabledToRead);var a=this.props.book,t=this.props.index;return l.a.createElement("li",null,l.a.createElement("div",{className:"bestsellers_main_panel_books_bookList_item_info"},l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_rank"},"#",t+1),l.a.createElement("select",{value:this.state.bookshelf,id:"addNewBook",className:"bestsellers_main_panel_books_bookList_item_button",onChange:function(t){return e.handleSelect(t,a)}},l.a.createElement("option",null,"Add:"),l.a.createElement("option",{onClick:this.handleRead,disabled:this.state.disabledRead},"Read"),l.a.createElement("option",{onClick:this.handleToRead,disabled:this.state.disabledToRead},"To Read")),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_title"},l.a.createElement("i",null,a.book_details[0].title)),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_author"},l.a.createElement("i",null,"by ",a.book_details[0].author)),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_description"},a.book_details[0].description),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_weeks"},l.a.createElement("i",null,l.a.createElement("span",null,"Weeks on list:")," ",a.weeks_on_list)),l.a.createElement("a",{href:a.amazon_product_url,target:"_blank",className:"bestsellers_main_panel_books_bookList_item_link"},"Buy on amazon")))}}]),a}(l.a.Component),p=t(2),v=t(22);v.initializeApp({apiKey:"AIzaSyA9ZXFxzvGzcUGnqY5oLQCUwutGiXu-KmI",authDomain:"bookcase-app-220211.firebaseapp.com",databaseURL:"https://bookcase-app-220211.firebaseio.com",projectId:"bookcase-app-220211",storageBucket:"bookcase-app-220211.appspot.com",messagingSenderId:"382956583606"});var E=v.firestore();E.settings({timestampsInSnapshots:!0});var f=E,N=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(r.a)(this,Object(m.a)(a).call(this))).handleSelect=function(a,t){var s="Read"===a.target.value?"read":"toRead";e.setState({bookshelf:s}),e.props.setShelf(s,t)},e.state={bookshelf:""},e}return Object(_.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.book;this.props.index;return l.a.createElement("li",null,l.a.createElement("div",{className:"search_main_panel_books_bookList_item"},l.a.createElement("select",{value:this.state.bookshelf,id:"addNewBook",className:"search_main_panel_books_bookList_item_button",onChange:function(t){return e.handleSelect(t,a)}},l.a.createElement("option",null,"Add:"),l.a.createElement("option",null,"Read"),l.a.createElement("option",null,"To Read")),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_title"},l.a.createElement("i",null,a.title)),l.a.createElement("p",{className:"bestsellers_main_panel_books_bookList_item_author"},l.a.createElement("i",null,"by ",a.author))))}}]),a}(l.a.Component),y=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(r.a)(this,Object(m.a)(a).call(this))).setShelf=function(a,t){var s={};if("FB"==t.from){s.book_details=[];var l={author:t.author,title:t.title};s.book_details.push(l)}else s=t;e.setState(Object(b.a)({},a,Object(d.a)(e.state[a]).concat([s])))},e.handleRead=function(a,t,s){var l=t,o=Object(d.a)(e.state.toRead);o.splice(s,1);e.setState({read:Object(d.a)(e.state.read).concat([l]),toRead:o})},e.handleChange=function(a){var t=e.state.bookSearched.filter(function(e){return e.title.toUpperCase()===a.target.value.toUpperCase()||e.author.toUpperCase()===a.target.value.toUpperCase()});e.setState({searchInput:a.target.value,booksFiltered:t})},e.state={booksNYT:[],booksGoogle:[],bookshelf:"",read:[],toRead:[],bookSearched:[],booksFiltered:[],disabledRead:!1,disabledToRead:!1},e}return Object(_.a)(a,e),Object(i.a)(a,[{key:"scrollToTop",value:function(){p.animateScroll.scrollToTop()}},{key:"scrollTo",value:function(){p.scroller.scrollTo("scroll-to-element",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"scrollToWithContainer",value:function(){new Promise(function(e,a){p.Events.scrollEvent.register("end",function(){e(),p.Events.scrollEvent.remove("end")}),p.scroller.scrollTo("scroll-container",{duration:800,delay:0,smooth:"easeInOutQuart"})}).then(function(){return p.scroller.scrollTo("scroll-container-second-element",{duration:800,delay:0,smooth:"easeInOutQuart",containerId:"scroll-container"})})}},{key:"componentWillUnmount",value:function(){p.Events.scrollEvent.remove("begin"),p.Events.scrollEvent.remove("end")}},{key:"render",value:function(){var e=this,a=this.state.read.map(function(e,a){return l.a.createElement("li",{className:"bookcase_shelves_shelf_main_bookList_item",key:a},l.a.createElement("p",{className:"bookcase_shelves_shelf_main_bookList_item_title"},l.a.createElement("i",null,e.book_details[0].title)),l.a.createElement("p",{className:"bookcase_shelves_shelf_main_bookList_item_author"},l.a.createElement("i",null,"by ",e.book_details[0].author)))}),t=this.state.toRead.map(function(a,t){return l.a.createElement("li",{className:"bookcase_shelves_shelf_main_bookList_item",key:t},l.a.createElement("button",{className:"bookcase_shelves_shelf_main_bookList_button",onClick:function(s){return e.handleRead(s,a,t)}},"Read"),l.a.createElement("p",{className:"bookcase_shelves_shelf_main_bookList_item_title"},l.a.createElement("i",null,a.book_details[0].title)),l.a.createElement("p",{className:"bookcase_shelves_shelf_main_bookList_item_author"},l.a.createElement("i",null,"by ",a.book_details[0].author)))}),s=this.state.booksNYT.map(function(a,t){return l.a.createElement(k,{key:t,book:a,index:t,setShelf:e.setShelf})}),o=this.state.booksFiltered.map(function(a,t){return l.a.createElement(N,{key:t,book:a,index:t,setShelf:e.setShelf})});return 0===this.state.bookSearched.length?l.a.createElement("p",null,"Loading..."):l.a.createElement("div",null,l.a.createElement("div",{className:"bookcase_panel element",id:"bookcase"},l.a.createElement("section",{className:"bookcase_shelves main-width"},l.a.createElement("div",{className:"bookcase_shelves_container"},l.a.createElement("div",{className:"bookcase_shelves_shelf_nav"},l.a.createElement("h1",{className:"bookcase_shelves_shelf_nav_heading"},"Read")),l.a.createElement("section",{className:"bookcase_shelves_shelf"},l.a.createElement("div",{className:"bookcase_shelves_shelf_main"},l.a.createElement("ul",{className:"bookcase_shelves_shelf_main_bookList"},a)))),l.a.createElement("div",{className:"bookcase_shelves_container"},l.a.createElement("div",{className:"bookcase_shelves_shelf_nav"},l.a.createElement("h1",{className:"bookcase_shelves_shelf_nav_heading"},"To Read")),l.a.createElement("section",{className:"bookcase_shelves_shelf"},l.a.createElement("div",{className:"bookcase_shelves_shelf_main"},l.a.createElement("ul",{className:"bookcase_shelves_shelf_main_bookList"},t)))),l.a.createElement("div",{className:"bookcase_shelves_buttons"},l.a.createElement(p.Link,{activeClass:"active",to:"bestsellers",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"bookcase_shelves_button"},"NYT bestsellers")),l.a.createElement(p.Link,{activeClass:"active",to:"bookfinder",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"bookcase_shelves_button"},"Add a new book"))))),l.a.createElement("div",{className:"bestsellers_panel element",id:"bestsellers"},l.a.createElement("section",{className:"bestsellers main-width "},l.a.createElement("div",{className:"bestsellers_container"},l.a.createElement("div",{className:"bestsellers_nav"},l.a.createElement("h1",{className:"bestsellers_nav_heading"},"New York Times Bestsellers")),l.a.createElement("section",{className:"bestsellers_main_panel"},l.a.createElement("section",{className:"bestsellers_main_panel_books"},l.a.createElement("ul",{className:"bestsellers_main_panel_books_bookList"},s)))),l.a.createElement("div",{className:"bestsellers_buttons"},l.a.createElement(p.Link,{activeClass:"active",to:"bookfinder",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"bookcase_shelves_button"},"Add a new book")),l.a.createElement(p.Link,{activeClass:"active",to:"bookcase",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"bestsellers_button_return"},"Return to shelves"))))),l.a.createElement("div",{className:"bookfinder_panel element",id:"bookfinder"},l.a.createElement("section",{className:"search main-width "},l.a.createElement("div",{className:"search_container"},l.a.createElement("div",{className:"search_main_panel_nav"},l.a.createElement("h1",{className:"search_main_panel_nav_heading"},"Add a new book")),l.a.createElement("section",{className:"search_main_panel"},l.a.createElement("label",{htmlFor:"search"}," "),l.a.createElement("input",{value:this.state.searchInput,onChange:this.handleChange,type:"search",className:"search_main_panel_input",id:"search",placeholder:"Search by title or author..."}),l.a.createElement("section",{className:"search_main_panel_books"},l.a.createElement("ul",{className:"search_main_panel_books_bookList"},o)))),l.a.createElement("div",{className:"search_buttons"},l.a.createElement(p.Link,{activeClass:"active",to:"bestsellers",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"search_button_bestsellers"},"NYT bestsellers")),l.a.createElement(p.Link,{activeClass:"active",to:"bookcase",spy:!0,smooth:!0,duration:500},l.a.createElement("button",{className:"search_button_return"},"Return to shelves"))))))}},{key:"componentDidMount",value:function(){var e=this;p.Events.scrollEvent.register("begin",function(){}),p.Events.scrollEvent.register("end",function(){}),f.collection("my-books").get().then(function(a){var t=[],s={from:"FB"};a.docs.forEach(function(e){var a=Object.assign({},e.data(),s);t.push(a)}),e.setState({bookSearched:t})}),u.a.get("https://api.nytimes.com/svc/books/v3/lists.json?list-name=hardcover-fiction&api-key=442776d99c7e4ee6999d05a6b05c24ca").then(function(a){var t=a.data.results;console.log(t),console.log(t[0].weeks_on_list),e.setState({booksNYT:t})})}}]),a}(l.a.Component),g=function(e){function a(){return Object(c.a)(this,a),Object(r.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(y,null))}}]),a}(l.a.Component);n.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.84d56d4e.chunk.js.map