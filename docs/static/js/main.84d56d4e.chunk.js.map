{"version":3,"sources":["components/BookItem.js","components/Firebase.js","components/BookSearchItem.js","components/Bestsellers.js","components/App.js","index.js"],"names":["BookItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSelect","e","element","shelf","target","value","setState","bookshelf","props","setShelf","handleRead","disabledRead","handleToRead","disabledToRead","state","_this2","console","log","book","index","react_default","a","createElement","className","id","onChange","event","onClick","disabled","book_details","title","author","description","weeks_on_list","href","amazon_product_url","React","Component","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fire","settings","timestampsInSnapshots","db","BookSearchItem","Bestsellers","newObj","from","p","push","defineProperty","toConsumableArray","concat","alreadyRead","temp","toRead","splice","read","handleChange","filtered","bookSearched","filter","toUpperCase","searchInput","booksFiltered","booksNYT","booksGoogle","scroll","scrollToTop","scroller","scrollTo","duration","delay","smooth","Promise","resolve","reject","Events","scrollEvent","register","remove","then","containerId","readBooks","map","key","toReadBooks","NYTbestseller","components_BookItem","booksSearched","components_BookSearchItem","length","modules","activeClass","to","spy","htmlFor","type","placeholder","_this3","collection","get","response","info","docs","forEach","assign","data","axios","res","results","App","components_Bestsellers","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.84d56d4e.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass BookItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            bookshelf: \"\",\r\n            disabledRead: null,\r\n            disabledToRead: null,\r\n        }\r\n    }\r\n\r\n    handleSelect = (e, element) => {\r\n        const shelf = e.target.value === \"Read\" ? \"read\" : \"toRead\";\r\n        this.setState({\r\n            bookshelf: shelf,\r\n        });\r\n        this.props.setShelf(shelf, element)\r\n    };\r\n\r\n    handleRead = (e) => {\r\n        this.setState({\r\n            disabledRead: true,\r\n        })\r\n    };\r\n\r\n    handleToRead = (e) => {\r\n        this.setState({\r\n            disabledToRead: true,\r\n        })\r\n    };\r\n\r\n    render() {\r\n\r\n        console.log(this.state.disabledRead);\r\n        console.log(this.state.disabledToRead);\r\n\r\n        const element = this.props.book;\r\n        const index = this.props.index;\r\n        return (\r\n            <li>\r\n                <div className=\"bestsellers_main_panel_books_bookList_item_info\">\r\n                    <p className=\"bestsellers_main_panel_books_bookList_rank\">#{index + 1}</p>\r\n                    <select\r\n                        value={this.state.bookshelf}\r\n                        id=\"addNewBook\"\r\n                        className=\"bestsellers_main_panel_books_bookList_item_button\"\r\n                        onChange={event => this.handleSelect(event, element)}>\r\n                        <option>Add:</option>\r\n                        <option onClick={this.handleRead} disabled={this.state.disabledRead}>Read</option>\r\n                        <option onClick={this.handleToRead} disabled={this.state.disabledToRead}>To Read</option>\r\n                    </select>\r\n\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_title\">\r\n                        <i>{element.book_details[0].title}</i></p>\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_author\">\r\n                        <i>by {element.book_details[0].author}</i></p>\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_description\">{element.book_details[0].description}</p>\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_weeks\">\r\n                        <i><span>Weeks on list:</span> {element.weeks_on_list}</i></p>\r\n                    <a href={element.amazon_product_url} target=\"_blank\"\r\n                       className=\"bestsellers_main_panel_books_bookList_item_link\">Buy on amazon</a>\r\n                </div>\r\n            </li>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookItem;","import * as firebase from \"firebase\";\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyA9ZXFxzvGzcUGnqY5oLQCUwutGiXu-KmI\",\r\n    authDomain: \"bookcase-app-220211.firebaseapp.com\",\r\n    databaseURL: \"https://bookcase-app-220211.firebaseio.com\",\r\n    projectId: \"bookcase-app-220211\",\r\n    storageBucket: \"bookcase-app-220211.appspot.com\",\r\n    messagingSenderId: \"382956583606\"\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nconst fire = firebase.firestore();\r\nfire.settings({ timestampsInSnapshots: true });\r\n\r\nexport const db = fire;","import React from \"react\";\r\n\r\nclass BookSearchItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            bookshelf: \"\"\r\n        }\r\n    }\r\n\r\n    handleSelect = (e, element) => {\r\n        const shelf = e.target.value === \"Read\" ? \"read\" : \"toRead\";\r\n        this.setState({\r\n            bookshelf: shelf\r\n        });\r\n        this.props.setShelf(shelf, element)\r\n    };\r\n\r\n    render() {\r\n\r\n        const element = this.props.book;\r\n        const index = this.props.index;\r\n\r\n        return (\r\n\r\n            <li >\r\n                <div className=\"search_main_panel_books_bookList_item\">\r\n                    <select\r\n                        value={this.state.bookshelf}\r\n                        id=\"addNewBook\"\r\n                        className=\"search_main_panel_books_bookList_item_button\"\r\n                        onChange={event => this.handleSelect(event, element)}>\r\n                        <option>Add:</option>\r\n                        <option>Read</option>\r\n                        <option>To Read</option>\r\n                    </select>\r\n\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_title\">\r\n                        <i>{element.title}</i></p>\r\n                    <p className=\"bestsellers_main_panel_books_bookList_item_author\">\r\n                        <i>by {element.author}</i></p>\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookSearchItem;","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport BookItem from \"./BookItem\";\r\nimport {Link, DirectLink, Element, Events, animateScroll as scroll, scrollSpy, scroller} from 'react-scroll';\r\nimport {db} from \"./Firebase\";\r\nimport BookSearchItem from \"./BookSearchItem\"\r\n\r\nclass Bestsellers extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            booksNYT: [],\r\n            booksGoogle: [],\r\n            bookshelf: \"\",\r\n            read: [],\r\n            toRead: [],\r\n            bookSearched: [],\r\n            booksFiltered: [],\r\n            disabledRead: false,\r\n            disabledToRead: false,\r\n\r\n        }\r\n    }\r\n\r\n    setShelf = (shelf, element) => {\r\n\r\n        let newObj = {};\r\n        if( element.from == \"FB\") {\r\n            newObj.book_details = [];\r\n            const p = {\r\n                author :element.author ,\r\n                title : element.title\r\n            };\r\n            newObj.book_details.push(p);\r\n        } else {\r\n            newObj = element;\r\n        }\r\n        this.setState({\r\n            [shelf]: [...this.state[shelf], newObj]\r\n        });\r\n\r\n    };\r\n\r\n    handleRead = (event, element, index) => {\r\n        const alreadyRead = element;\r\n        const temp = [...this.state.toRead];\r\n        const toRead = temp.splice(index, 1);//usuwamy element z tablicy to read i przekazujemy w state'ie splice zwraca usuniety element\r\n        this.setState({\r\n            read: [...this.state.read, alreadyRead],\r\n            toRead: temp\r\n        })\r\n    };\r\n\r\n    scrollToTop() {\r\n        scroll.scrollToTop();\r\n    }\r\n\r\n    scrollTo() {\r\n        scroller.scrollTo('scroll-to-element', {\r\n            duration: 800,\r\n            delay: 0,\r\n            smooth: 'easeInOutQuart'\r\n        })\r\n    }\r\n\r\n    scrollToWithContainer() {\r\n\r\n        let goToContainer = new Promise((resolve, reject) => {\r\n\r\n            Events.scrollEvent.register('end', () => {\r\n                resolve();\r\n                Events.scrollEvent.remove('end');\r\n            });\r\n\r\n            scroller.scrollTo('scroll-container', {\r\n                duration: 800,\r\n                delay: 0,\r\n                smooth: 'easeInOutQuart'\r\n            });\r\n\r\n        });\r\n\r\n        goToContainer.then(() =>\r\n            scroller.scrollTo('scroll-container-second-element', {\r\n                duration: 800,\r\n                delay: 0,\r\n                smooth: 'easeInOutQuart',\r\n                containerId: 'scroll-container'\r\n            }));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        Events.scrollEvent.remove('begin');\r\n        Events.scrollEvent.remove('end');\r\n    }\r\n\r\n    handleChange = (e) => {\r\n\r\n        const filtered = this.state.bookSearched.filter((book)=>{\r\n            return book.title.toUpperCase() === e.target.value.toUpperCase() || book.author.toUpperCase() === e.target.value.toUpperCase();\r\n        });\r\n\r\n        this.setState({\r\n            searchInput: e.target.value,\r\n            booksFiltered: filtered,\r\n        })\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        const readBooks = this.state.read.map((element, index) => {\r\n            return (\r\n                <li className=\"bookcase_shelves_shelf_main_bookList_item\" key={index}>\r\n                    <p className=\"bookcase_shelves_shelf_main_bookList_item_title\">\r\n                        <i>{element.book_details[0].title}</i></p>\r\n                    <p className=\"bookcase_shelves_shelf_main_bookList_item_author\">\r\n                        <i>by {element.book_details[0].author}</i></p>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        const toReadBooks = this.state.toRead.map((element, index) => {\r\n            return (\r\n                <li className=\"bookcase_shelves_shelf_main_bookList_item\" key={index}>\r\n                    <button className=\"bookcase_shelves_shelf_main_bookList_button\"\r\n                            onClick={event => this.handleRead(event, element, index)}>\r\n                        Read\r\n                    </button>\r\n                    <p className=\"bookcase_shelves_shelf_main_bookList_item_title\">\r\n                        <i>{element.book_details[0].title}</i></p>\r\n                    <p className=\"bookcase_shelves_shelf_main_bookList_item_author\">\r\n                        <i>by {element.book_details[0].author}</i></p>\r\n                </li>\r\n            )\r\n        });\r\n\r\n        const NYTbestseller = this.state.booksNYT.map((element, index) => {\r\n            return (\r\n                <BookItem key={index}\r\n                          book={element}\r\n                          index={index}\r\n                          setShelf={this.setShelf}\r\n                />\r\n            )\r\n        });\r\n\r\n        const booksSearched = this.state.booksFiltered.map((element,index)=> {\r\n            return (\r\n                <BookSearchItem\r\n                    key={index}\r\n                    book={element}\r\n                    index={index}\r\n                    setShelf={this.setShelf}\r\n                />\r\n            )\r\n        });\r\n\r\n        if (this.state.bookSearched.length === 0) {\r\n            return (\r\n                    <p>Loading...</p>\r\n\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n\r\n                <div className=\"bookcase_panel element\" id=\"bookcase\">\r\n\r\n                    <section className=\"bookcase_shelves main-width\">\r\n                        <div className=\"bookcase_shelves_container\">\r\n\r\n                            <div className=\"bookcase_shelves_shelf_nav\">\r\n                                <h1 className=\"bookcase_shelves_shelf_nav_heading\">Read</h1>\r\n                            </div>\r\n\r\n                            <section className=\"bookcase_shelves_shelf\">\r\n                                <div className=\"bookcase_shelves_shelf_main\">\r\n                                    <ul className=\"bookcase_shelves_shelf_main_bookList\">\r\n                                        {readBooks}\r\n                                    </ul>\r\n                                </div>\r\n\r\n                            </section>\r\n                        </div>\r\n\r\n                        <div className=\"bookcase_shelves_container\">\r\n\r\n                            <div className=\"bookcase_shelves_shelf_nav\">\r\n                                <h1 className=\"bookcase_shelves_shelf_nav_heading\">To Read</h1>\r\n                            </div>\r\n\r\n                            <section className=\"bookcase_shelves_shelf\">\r\n                                <div className=\"bookcase_shelves_shelf_main\">\r\n                                    <ul className=\"bookcase_shelves_shelf_main_bookList\">\r\n                                        {toReadBooks}\r\n                                    </ul>\r\n                                </div>\r\n\r\n                            </section>\r\n                        </div>\r\n\r\n                        <div className=\"bookcase_shelves_buttons\">\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bestsellers\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"bookcase_shelves_button\">NYT bestsellers</button>\r\n                            </Link>\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bookfinder\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"bookcase_shelves_button\">Add a new book</button>\r\n                            </Link>\r\n                        </div>\r\n\r\n                    </section>\r\n                </div>\r\n\r\n                <div className=\"bestsellers_panel element\" id=\"bestsellers\">\r\n                    <section className=\"bestsellers main-width \">\r\n                        <div className=\"bestsellers_container\">\r\n\r\n                            <div className=\"bestsellers_nav\">\r\n                                <h1 className=\"bestsellers_nav_heading\">New York Times Bestsellers</h1>\r\n                            </div>\r\n\r\n                            <section className=\"bestsellers_main_panel\">\r\n\r\n                                <section className=\"bestsellers_main_panel_books\">\r\n\r\n                                    <ul className=\"bestsellers_main_panel_books_bookList\">\r\n                                        {NYTbestseller}\r\n                                    </ul>\r\n                                </section>\r\n\r\n                            </section>\r\n                        </div>\r\n\r\n                        <div className=\"bestsellers_buttons\">\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bookfinder\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"bookcase_shelves_button\">Add a new book</button>\r\n                            </Link>\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bookcase\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"bestsellers_button_return\">Return to shelves</button>\r\n                            </Link>\r\n                        </div>\r\n\r\n                    </section>\r\n                </div>\r\n\r\n                <div className=\"bookfinder_panel element\" id=\"bookfinder\">\r\n                    <section className=\"search main-width \">\r\n                        <div className=\"search_container\">\r\n\r\n                            <div className=\"search_main_panel_nav\">\r\n                                <h1 className=\"search_main_panel_nav_heading\">Add a new book</h1>\r\n                            </div>\r\n\r\n                            <section className=\"search_main_panel\">\r\n                                <label htmlFor=\"search\"> </label>\r\n                                <input\r\n                                    value={this.state.searchInput}\r\n                                    onChange={this.handleChange}\r\n                                    type=\"search\"\r\n                                    className=\"search_main_panel_input\"\r\n                                    id=\"search\"\r\n                                    placeholder=\"Search by title or author...\"/>\r\n                                <section className=\"search_main_panel_books\">\r\n                                    <ul className=\"search_main_panel_books_bookList\">\r\n                                        {booksSearched}\r\n                                    </ul>\r\n                                </section>\r\n\r\n                            </section>\r\n                        </div>\r\n\r\n                        <div className=\"search_buttons\">\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bestsellers\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"search_button_bestsellers\">NYT bestsellers</button>\r\n                            </Link>\r\n                            <Link activeClass=\"active\"\r\n                                  to=\"bookcase\"\r\n                                  spy={true}\r\n                                  smooth={true}\r\n                                  duration={500}>\r\n                                <button className=\"search_button_return\">Return to shelves</button>\r\n                            </Link>\r\n                        </div>\r\n\r\n                    </section>\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        Events.scrollEvent.register('begin', function () {\r\n\r\n        });\r\n\r\n        Events.scrollEvent.register('end', function () {\r\n\r\n        });\r\n\r\n        db.collection('my-books').get().then((response) => {\r\n            const temp = [];\r\n            const info = {from: \"FB\"};\r\n            response.docs.forEach((e) => {\r\n                const newObj = Object.assign({}, e.data(), info);\r\n                temp.push(newObj)\r\n            });\r\n            this.setState({\r\n                bookSearched: temp\r\n            })\r\n        });\r\n\r\n        axios.get(\"https://api.nytimes.com/svc/books/v3/lists.json?list-name=hardcover-fiction&api-key=442776d99c7e4ee6999d05a6b05c24ca\")\r\n            .then((res) => {\r\n                const results = res.data.results;\r\n                console.log(results);\r\n                console.log(results[0].weeks_on_list);\r\n                this.setState({\r\n                    booksNYT: results\r\n                });\r\n            });\r\n    }\r\n}\r\n\r\nexport default Bestsellers;\r\n","import React, {Component} from 'react';\nimport \"../scss/main.scss\"\nimport Bestsellers from './Bestsellers'\nclass App extends React.Component {\n\n    render() {\n        return (\n            <div>\n                <Bestsellers/>\n            </div>\n        )\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}